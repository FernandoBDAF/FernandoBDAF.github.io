<html>
<body>
    <h1>Fernando's Portfolio</h1>
    <ul>
        <li><a href="../../../index.html">Home</a></li>
        <li><a href="../../myprojects.html">My Projects</a></li>
    </ul>
    <h3><a href="https://freepacman.org/" target="_blank">Click here and play the PACMAN GAME</a></h3>
    <img id="Button" src="start.jpeg" width="75" onclick="checkRun()" style="display: block;"></img>
    <img id="PacMan" src="PacMan1.png" width="200" style="position:absolute"> </img>
    
    <SCRIPT>
        var pos = 0;
        const pacArray = [
            ['PacMan1.png', 'PacMan2.png'],
            ['PacMan3.png', 'PacMan4.png']
        ];
        var direction = 0;
        var focus = 0;
        var active = false;
        let timeout;
        
        function Run() {                
            let img = document.getElementById("PacMan");
            let imgWidth = img.width
            focus = (focus + 1) % 2;
            direction = checkPageBounds(direction, imgWidth);
            img.src = pacArray[direction][focus];
            if (direction) {
                pos -= 20;
                img.style.left = pos + "px";
            } else {
                pos += 20;
                img.style.left = pos + 'px';
            }
            timeout = setTimeout(Run, 100)
        }
    
        function checkPageBounds(direction, imgWidth) {
            let pageWidth = window.innerWidth;
            if (pos >= pageWidth - imgWidth) {
                direction = 1
            }
            if (pos < 0) {
                direction = 0
            }
            return direction;
        }
        
        function checkRun() {
            let button = document.getElementById("Button")
            if (active === true) {
                active = false
                button.src = "start.jpeg"
                clearTimeout(timeout)
            } else {
                active = true
                button.src = "stop.jpeg"
                Run()
            }
        }
    
    </SCRIPT>
</body>

</html>